<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link id="theme-style" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  
  <!-- highlight.js Dark Theme -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/material-darker.min.css">
  
  <style>
    /* Hide Pagination container if there is no other files */
    .docsify-pagination-container:not(:has(a)) {
      display: none;
    }
    
    /* Enhanced Dark Code Blocks */
    .markdown-section pre {
      background: #1a1a1a !important;
      border-radius: 8px;
      padding: 0;
    }
    
    .markdown-section pre code {
      background: transparent !important;
      padding: 1.2em !important;
      display: block;
      overflow-x: auto;
      line-height: 1.5;
      color: #e0e0e0;
    }
    
    /* Language label styling */
    .markdown-section pre::before {
      content: attr(data-lang);
      display: block;
      background: #2d2d2d;
      color: #999;
      padding: 4px 12px;
      font-size: 0.8em;
      border-radius: 8px 8px 0 0;
      text-transform: uppercase;
      margin-bottom: -1em;
      position: relative;
      z-index: 1;
    }
    
    /* Better scrollbar for code blocks */
    .markdown-section pre::-webkit-scrollbar {
      height: 8px;
    }
    
    .markdown-section pre::-webkit-scrollbar-thumb {
      background: #555;
      border-radius: 4px;
    }

    /* README. md */
    .readme-tile {
      display: inline-flex;
      position: relative; /* Required for absolute positioning of child elements */       
      align-items: center;       
      justify-content: center;   
      background: #eee;
      font-size: 16px;
      text-decoration: none;
      text-align: center;
      border-radius: 0;
      width: 100px;
      height: 100px;
      padding: 0;                
      transition: all 0.3s;  
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .readme-tile-badge {
      position: absolute;
      top: 0;
      right: 0;
      transform: translate(15%, -25%);
      padding: 0.25em 0.35em;
      border-radius: 3px;
      background: rgb(255, 0, 0);
      color: white;
      font-family: sans-serif;
      font-size: 11px;
      font-weight: bold;
    }

    .sidebar-list-item {
      position: relative;
      margin-left: 10px;
      display: inline-flex;       /* Makes the `<a>` a flex container */
      align-items: center;       /* Vertically centers children (text + badge) */
      color: #404d6b;
      text-decoration: none;    /* Removes underline (optional) */
    }

    .sidebar-list-item-badge {
      position: absolute;
      top: 0;
      right: 0;
      transform: translate(0%, 25%);
      padding: 0px 5px;
      margin-right: 5px;
      border-radius: 3px;
      background: rgb(255, 0, 0);
      color: white;
      font-family: sans-serif;
      font-size: 11px;
      max-height: 20px;
      font-weight: bold;
      display: inline-flex;      /* Makes the `<span>` a flex container */
      align-items: center;      /* Vertically centers "22 New!" inside the span */
      justify-content: center;  /* Horizontally centers "22 New!" (optional) */
    }

    /* index.html */
    html {
      scroll-behavior: smooth;
    }

    footer {
      position: fixed;  /* or 'absolute' depending on your layout needs */
      bottom: 0;
      left: 0;
      right: 0;
      text-align: center;
      padding: 10px 0;  /* optional padding */
      background-color: white;  /* optional background */
      border-top: 1px solid #eee;  /* optional border */
    }

    footer span {
      margin: 0 10px;  /* space between spans */
    }

    /* math formula */
    .math-block {
      background: none !important;
      color: #34495e;
      padding: 0.5em;
      font-size: 1.1em;
    }

    .math-block pre,
    .math-block pre code {
      all: unset !important; /* override previous styles */
    }

    .math-block pre::before {
      padding: 0 12px;
    }

    .hljs-comment {
      color: #c0c0c0;
    }

    /* toc */
    /*
    #toc {
      padding: 1em;
    }

    #toc a {
      text-decoration: none;         
      color: #344951;                
      font-family: sans-serif;
      margin-bottom: 4px;
    }

    #toc a:hover {
      text-decoration: underline;    
      background: #c0c0c0; 
    }
    */

    #toc {
      position: fixed;
      right: 10px;
      top: 90px;

      width: 25vw;          /* Responsive width based on viewport width */
      min-width: 150px;
      max-width: 250px;

      max-height: 85vh;      /* Allow vertical space up to 80% of screen */
      overflow-y: auto;      /* Enable scrolling when content overflows */

      padding-right: 8px;    /* Prevent scrollbar from hiding text */
      background-color: white;  /* Optional: for visibility */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  /* Optional: visual polish */
    }

    /* Common TOC link styles */
    #toc a {
      display: block;
      text-decoration: none;
      padding: 4px 8px;
      margin: 2px 0;
      color: #333;
      border-left: 3px solid transparent;
      transition: background-color 0.2s, border-color 0.2s;
    }

    /* Hover effect */
    #toc a:hover {
      background-color: #f0f0f0;
      border-left-width: 6px;
      /* border-left-color: #007bff; */
    }

    /* Hierarchical styles */
    #toc .toc-1 {
      /* font-size: 16px;
      padding-left: 8px; */
      border-left-color: #3b82f6;
    }

    #toc .toc-2 {
      /* font-size: 14px;
      padding-left: 16px; */
      border-left-color: #34d399;
    }

    #toc .toc-3 {
      /* font-size: 12px;
      padding-left: 24px; */
      border-left-color: #6366f1;
    }

    #toc .toc-4 {
      /* font-size: 10px;
      padding-left: 32px; */
      border-left-color: #ec4899;
    }

    #toc .toc-5 {
      /* font-size: 8px;
      padding-left: 40px; */
      border-left-color: #f87171;
    }

    #toc .toc-6 {
      /* font-size: 6px;
      padding-left: 48px; */
      border-left-color: #9ca3af;
    }

    /* .md content */
    #main {
      margin-left: 40px;
      margin-right: 0px;
    }

    .content {
      padding-top: 0px;
    }

    /* pdf list and viewer */
    .pdf-container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .pdf-list {
      display: flex;
      flex-wrap: wrap;
      gap: 2px;
      width: 100%;
      align-items: flex-start;
    }

    .pdf-list span {
      display: inline-block;     /* Or keep it block if needed */
      margin: 0;                 /* Remove default margin */
      padding: 0;                /* Remove default padding */
      line-height: 1;            /* Reduce line spacing */
      vertical-align: top;       /* Prevent alignment gaps */
    }

    .pdf-viewer {
      flex-grow: 1;
    }

    .pdf-viewer iframe {
      margin-top: 0;
      width: 100%;
      height: 600px;
      border: none;
    }

    .pdf-link {
      display: block;
      margin-bottom: 0px;
      cursor: pointer;
      color: #3b82f6;
      text-decoration: underline;
    }

    span.pdf-link {
      margin-bottom: 0px;
      height: 15px; /* Set your fixed height */
      display: flex;
      align-items: center; /* Vertically centers the text */
      padding: 0 0px; /* Optional: add horizontal padding */
      box-sizing: border-box; /* Ensure padding doesn't affect height */
    }

    .docsify-tabs__content {
      padding-left: 12px!important;
    }

  </style>
</head>
<body>
  <div data-app id="main">Please wait...</div>

  <!-- Theme Switcher -->
  <div style="position: fixed; top: 0.3rem; right: 5rem; z-index: 999;">
    <select id="theme-select">
      <option value="theme_simple">ðŸŒž Theme Simple</option>
      <option value="theme_dark">ðŸŒ™ Theme Dark</option>
      <option value="vue">ðŸ’š Vue</option>
      <option value="buble">ðŸ”µ Buble</option>
      <option value="dark">ðŸ–¤ Dark</option>
      <option value="pure">âšª Pure</option>
    </select>
  </div>

  <!-- Your ToC container (optional placement) -->
  <div id="toc"></div>

  <script>
    window.$docsify = {
      name: "Handy Pan's Notes",
      repo: 'handyPan/Markdown-Notes-Public',
      el: '#main',
      loadSidebar: true,
      subMaxLevel: 3,
      loadNavbar: false,
      coverpage: true,
      
      // highlight.js configuration
      highlight: {
        theme: 'base16/material-darker',
        hljs: window.hljs,
        languages: [
          // Programming Languages
          'python', 'javascript', 'typescript', 'jsx', 'tsx',
          'java', 'kotlin', 'scala', 'groovy',
          'c', 'cpp', 'csharp', 'objectivec',
          'go', 'rust', 'swift', 'dart',
          'php', 'ruby', 'perl', 'lua',
          'r', 'scala', 'haskell', 'elixir',
          
          // Shell/Command Line
          'bash', 'shell', 'sh', 'zsh', 'powershell', 'cmd',
          
          // Web Technologies
          'html', 'xml', 'css', 'scss', 'sass', 'less', 'stylus',
          'json', 'yaml', 'toml', 'graphql',
          
          // Config/Infrastructure
          'dockerfile', 'nginx', 'apache', 'makefile', 'terraform',
          
          // Databases
          'sql', 'plsql', 'mysql', 'postgresql', 'mongodb',
          
          // Markup/Text
          'markdown', 'asciidoc', 'latex',
          
          // Special Formats
          'diff', 'plaintext', 'log', 'csv',
          
          // Network/Protocols
          'http', 'uri', 'dns',
          
          // Embedded/Assembly
          'arduino', 'armasm', 'avrasm', 'x86asm',
          
          // Other
          'vim', 'excel', 'ebnf', 'protobuf'
        ]
      },
      
      count: {
        countable: true,
        fontsize: '0.9em',
        color: 'rgb(90,90,90)',
        language: 'chinese'
      },
      
      pagination: {
        previousText: 'PREVIOUS',
        nextText: 'NEXT',
        crossChapter: true,
        crossChapterText: true,
      },
      
      plugins: [
        function (hook, vm) {
          hook.doneEach(function () {
            // Chart example
            if (location.hash.includes('/_ex_chart') || 
                location.hash.includes('/How%20to%20use%20external-script.min.js%20in%20Docsify')) {
              const canvas = document.getElementById('myChart');
              if (canvas) {
                const ctx = canvas.getContext('2d');
                new Chart(ctx, {
                  type: 'bar',
                  data: {
                    labels: ['Red', 'Blue', 'Yellow'],
                    datasets: [{
                      label: 'Votes',
                      data: [12, 19, 3],
                      backgroundColor: ['red', 'blue', 'yellow']
                    }]
                  }
                });
              }
            } 
            // Math example
            else if (location.hash.includes('/_ex_math')) {
              if (typeof renderMathInElement === 'function') {
                renderMathInElement(document.body, {
                  delimiters: [
                    { left: "$$", right: "$$", display: true },
                    { left: "\\(", right: "\\)", display: false }
                  ]
                });
              }
            }
            
            // Force dark background for all code blocks
            document.querySelectorAll('pre code').forEach(el => {
              el.style.backgroundColor = '#1a1a1a';
            });
          });
        }
      ],
      
      search: 'auto',
      tabs: {
        persist: true,
        sync: true,
        theme: 'material',
        tabComments: true,
        tabHeadings: true
      },
      themeable: {
        readyTransition: true,
        responsiveTables: true
      }
    };

    // Theme switching functionality
    // updated below for the embedded htmls
    function setTheme(mode) {
      const themeMap = {
        theme_simple: `https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css`,
        theme_dark: `https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css`,
        vue: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/vue.css',
        buble: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/buble.css',
        dark: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/dark.css',
        pure: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/pure.css'
      };
      document.getElementById('theme-style').href = `${themeMap[mode]}` || themeMap.buble;
      document.getElementById('theme-select').value = mode;
      localStorage.setItem('theme-style', mode);
    }
    /*
   function setTheme(mode) {
      const themeMap = {
        theme_simple: `https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css`,
        theme_dark: `https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css`,
        vue: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/vue.css',
        buble: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/buble.css',
        dark: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/dark.css',
        pure: 'https://cdn.jsdelivr.net/npm/docsify/lib/themes/pure.css'
      };

      const themeUrl = themeMap[mode] || themeMap.buble;

      // Update parent document
      document.getElementById('theme-style').href = themeUrl;
      document.getElementById('theme-select').value = mode;
      localStorage.setItem('theme-style', mode);

      // Loop through all iframes and apply the theme
      const iframes = document.querySelectorAll('iframe');
      console.log(iframes);
      iframes.forEach((iframe) => {
        try {
          const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
          let link = iframeDoc.getElementById('theme-style');

          if (!link) {
            link = iframeDoc.createElement('link');
            link.rel = 'stylesheet';
            link.id = 'theme-style';
            iframeDoc.head.appendChild(link);
            console.log(link);
          }

          // link.href = themeUrl;
          // link.href = themeUrl + '?v=' + Date.now();
          // console.log(link.href);

          const newLink = link.cloneNode();
          newLink.href = themeUrl + '?v=' + Date.now();
          link.parentNode.replaceChild(newLink, link);

        } catch (err) {
          // Cross-origin iframe - you can use postMessage here if you control the embedded pages
          iframe.contentWindow.postMessage({ type: 'set-theme', url: themeUrl }, '*');
        }
      });
    }
    */

    document.getElementById('theme-select').addEventListener('change', (e) => {
      setTheme(e.target.value);
    });

    
    // updated below for the embedded htmls
    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme-style') || 'buble';
      setTheme(saved);
    });
    
   /*
   document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('theme-style') || 'buble';

      // Apply theme to parent
      setTheme(saved);

      // Apply theme to iframes after they have loaded
      const iframes = document.querySelectorAll('iframe');
      iframes.forEach((iframe) => {
        iframe.addEventListener('load', () => {
          setTheme(saved);
        });
      });
    });
    */

  </script>

  <!-- highlight.js Core + Languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Programming Languages -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/java.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/csharp.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/rust.min.js"></script>

  <!-- Shell/Command Line -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/shell.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/powershell.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dos.min.js"></script> <!-- cmd -->

  <!-- Web Technologies -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/html.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/scss.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/xml.min.js"></script>

  <!-- Databases -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js"></script>

  <!-- Config/Infrastructure -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/dockerfile.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/nginx.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/makefile.min.js"></script>

  <!-- Markup/Text -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/markdown.min.js"></script>

  <!-- Special Formats -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/diff.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/plaintext.min.js"></script>

  <!-- Autoloader for remaining languages -->
  <script>
    // Configure autoloader for other languages not explicitly loaded above
    hljs.configure({
      languages: [
        'typescript', 'jsx', 'tsx', 'kotlin', 'scala', 'groovy', 
        'objectivec', 'swift', 'dart', 'php', 'ruby', 'perl', 'lua',
        'r', 'haskell', 'elixir', 'zsh', 'sass', 'less', 'stylus',
        'toml', 'graphql', 'apache', 'terraform', 'plsql', 'mysql',
        'postgresql', 'mongodb', 'asciidoc', 'latex', 'log', 'csv',
        'http', 'uri', 'dns', 'arduino', 'armasm', 'avrasm', 'x86asm',
        'vim', 'excel', 'ebnf', 'protobuf'
      ],
      useBR: false
    });
  </script>
  
  <script>
    // Initialize highlight.js and ensure dark background
    document.addEventListener('DOMContentLoaded', () => {
      // Register all languages
      hljs.configure({
        cssSelector: 'pre code',
        ignoreUnescapedHTML: true
      });
      
      // Highlight all code blocks
      document.querySelectorAll('pre code').forEach(el => {
        hljs.highlightElement(el);
        el.style.backgroundColor = '#1a1a1a';
      });
    });
  </script>

  <!-- Docsify and Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="//unpkg.com/docsify/lib/plugins/external-script.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- MathJax Configuration -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        <!-- inlineMath: [ ['[',']'] ], -->
        inlineMath: [ 
          ['\\(', '\\)'],  // Traditional LaTeX style
          ['[', ']'],       // Alternative bracket style
          ['$', '$']
        ],
        displayMath: [ ['$$','$$'] ],
        processEscapes: true,
        ignoreClass: ".*|",
        processClass: "math|"
      },
      messageStyle: "none",
      skipStartupTypeset: true
    });
  </script>

  <!-- Additional Plugins -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="//unpkg.com/docsify-count/dist/countable.js"></script>
  <script src="//unpkg.com/docsify-pagination/dist/docsify-pagination.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS_CHTML"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  
  <script>
    window.$docsify = window.$docsify || {};
    window.$docsify.plugins = (window.$docsify.plugins || []).concat(function(hook, vm) {
      hook.doneEach(function() {
        // MathJax typesetting
        if (window.MathJax) {
          MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
        
        // Re-highlight and enforce dark background on navigation
        document.querySelectorAll('pre code').forEach(el => {
          hljs.highlightElement(el);
          el.style.backgroundColor = '#1a1a1a';
        });
      });
    });
  </script>

  <!-- page footer -->
  <script>
    window.$docsify = window.$docsify || {};
    window.$docsify.plugins = (window.$docsify.plugins || []).concat(function pageFooter(hook, vm) {
      var footer = [
        '<footer>',
        '<span><a href="https://github.com/handyPan">Handy Pan</a> &copy;2025.Powered by <a href="https://docsify.js.org/#/" target="_blank">docsify</a>.</span>',
        '</footer>',
      ].join('');

      hook.afterEach(function (html) {
        return html + footer;
      });
    });
  </script>

  <!-- PDF Export -->
  <script>
    function exportPDF() {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF('p', 'pt', 'a4');
      const content = document.getElementById("content");
  
      // Use MathJax v2 callback to wait until typesetting is done
      MathJax.Hub.Queue(["Typeset", MathJax.Hub, content]);
      MathJax.Hub.Queue(function () {
        // 2 and above makes the PDF heavy
        html2canvas(content, { scale: 1 }).then(canvas => {
          const imgData = canvas.toDataURL('image/png');
          const imgProps = pdf.getImageProperties(imgData);
          const marginX = 10;
          const pdfWidth = pdf.internal.pageSize.getWidth() - 2 * marginX;
          const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
          pdf.addImage(imgData, 'PNG', marginX, 0, pdfWidth, pdfHeight);
          pdf.save("export.pdf");
        });
      });
    }
  </script>

  <!-- Generate TOC -->
   <!-- Your ToC generator script -->
  <script>
    function generateToC(containerId = "content", tocId = "toc") {

      const currentHash = decodeURIComponent(location.hash);
      // console.log(currentHash);
      const pattern = /^#\/topics\/[A-Za-z0-9 _-]+\/$/;
      if (currentHash == "#/" || currentHash == "#/?id=main" || pattern.test(currentHash)) {
        document.getElementById(tocId).innerHTML = ""; // Clear ToC if not needed
        return;
      }

      const content = document.querySelector(".content"); // Docsify renders to .content
      const toc = document.getElementById(tocId);
      if (!content || !toc) return;
      toc.innerHTML = "<h2>Table of Contents</h2>";

      const headers = content.querySelectorAll("h1, h2, h3, h4, h5, h6");
      headers.forEach((header, i) => {
        // console.log(header);
        // const anchor = `toc-${i}`;
        const anchor = header.id;
        header.id = anchor;

        const link = document.createElement("a");
        const url = window.location.href;
        const baseUrl = url.includes("?") ? url.split("?")[0] : url;
        link.href = baseUrl + `?id=${anchor}`;
        // console.log(link.href);
        link.textContent = (header.textContent.length > 25) ? header.textContent.slice(0, 25) + " ...":header.textContent;
        // link.style.marginLeft = `${(parseInt(header.tagName[1]) - 1) * 20}px`;
        link.classList.add((header.localName == 'h1') ? "toc-1": (
                                (header.localName == 'h2') ? "toc-2" : (
                                  (header.localName == 'h3') ? "toc-3" : (
                                    (header.localName == 'h4') ? "toc-4" : (
                                      (header.localName == 'h5') ? "toc-5" : "toc-6"
        )))));
        // link.style.marginLeft = (header.localName == 'h1') ? "0px": (
        //                         (header.localName == 'h2') ? "4px" : (
        //                           (header.localName == 'h3') ? "8px" : (
        //                             (header.localName == 'h4') ? "12px" : (
        //                               (header.localName == 'h5') ? "16px" : "20px"
        // ))));
        link.style.fontSize = (header.localName == 'h1') ? "16px": (
                                (header.localName == 'h2') ? "14px" : (
                                  (header.localName == 'h3') ? "12px" : (
                                    (header.localName == 'h4') ? "10px" : (
                                      (header.localName == 'h5') ? "8px" : "6px"
        ))));
        link.style.display = "block";

        toc.appendChild(link);
      });
    }

    window.addEventListener("hashchange", () => setTimeout(generateToC, 300));
    window.addEventListener("load", () => setTimeout(generateToC, 300));
  </script>

  <!-- PDF List and Viewer  -->
  <script>
    window.$docsify = window.$docsify || {};
    window.$docsify.plugins = (window.$docsify.plugins || []).concat(function(hook, vm) {
      hook.doneEach(function() {
        // PDF link click handlers
        const links = document.querySelectorAll('.pdf-link');
        const frame = document.getElementById('pdfFrame');
        if (!frame) return;

        links.forEach(link => {
          link.addEventListener('click', () => {
            const pdfUrl = link.getAttribute('data-pdf');
            frame.src = pdfUrl;
            // console.log("PDF address updated to:", pdfUrl);
          });
        });
      });
    });
  </script>

  <!-- to fully show the iframe content without scroll bar  -->
  <script>
    function resizeIframe(iframe) {
      iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';
    }
  </script>

  <script>
    // Configure marked to allow raw HTML, used for the "Overview" and "List"
  if (window.marked) {
    window.marked.setOptions({
      gfm: true,          // GitHub-flavored markdown
      breaks: true,       // Convert line breaks into <br>
      sanitize: false     // Allow raw HTML (important!)
    });
  }
  </script>
  
  <script>
    function getDocsifyPagePath() {
    let path = window.location.hash || window.location.pathname;

    // Remove leading "#" if present
    path = path.replace(/^#/, '');

    // Fallback to root if empty
    if (!path || path === '/') return '/';

    // Ensure it starts with "/"
    if (!path.startsWith('/')) {
      path = '/' + path;
    }

    // Ensure it ends with "/"
    if (!path.endsWith('/')) {
      path += '/';
    }

    return decodeURIComponent(path); // Decode any %20 etc.
  }

  function computeMdPath(mdFileName) {
    return getDocsifyPagePath() + mdFileName;
  }
  
  function loadExtraSection(file, containerSelector) {
    fetch(file)
      .then(res => res.text())
      .then(md => {
        const html = window.marked(md);
        document.querySelector(containerSelector).innerHTML = html;
      });
  }

  window.$docsify = window.$docsify || {};
  const myPlugin = function (hook, vm) {
    hook.doneEach(function () {
      const overviewBtn = document.querySelector('[data-tab="overview"]');
      const listBtn = document.querySelector('[data-tab="list"]');

      // If both buttons are missing, exit early
      if (!overviewBtn && !listBtn) {
        console.warn('Tab buttons not found â€” skipping extra section loading.');
        return;
      }

      if (overviewBtn) {
        overviewBtn.addEventListener('click', () => {
          loadExtraSection(computeMdPath('_overview.md'), '#overview-container');
        });
      }

      if (listBtn) {
        listBtn.addEventListener('click', () => {
          loadExtraSection(computeMdPath('_list.md'), '#list-container');
        });
      }
      
      // Automatically load overview and list sections when the page loads
      loadExtraSection(computeMdPath('_overview.md'), '#overview-container');
      loadExtraSection(computeMdPath('_list.md'), '#list-container');
    });
  };

  // Append your plugin instead of replacing the array
  window.$docsify.plugins = (window.$docsify.plugins || []).concat(myPlugin);
</script>

</body>
</html>